# Plot results

set term png enhanced # size 800,1024

set datafile separator ','

set grid

set xlabel "# Threads"
set ylabel "Ops/Sec"


set boxwidth 0.9
set style fill solid 0.5 border

set key outside above

plot "intra.base.csv" using 1:6 with linespoints title "Baseline - Intra", \
     "intra.ipcd.csv" using 1:6 with linespoints title "IPCD - Intra", \
     "inter.base.csv" using 1:6 with linespoints title "Baseline - Inter", \
     "inter.ipcd.csv" using 1:6 with linespoints title "IPCD - Inter"

#plot for [i=1:words(threads)] "memcache.baseline.csv" using (($1 == word(threads, i))?$2:1/0):6 with linespoints title "Baseline - " . word(threads,i) . " Threads" pt i+1, \
#     for [i=1:words(threads)] "memcache.ipcd.csv" using (($1 == word(threads, i))?$2:1/0):6 with linespoints title "IPCD - " . word(threads,i) . " Threads" pt i+1
